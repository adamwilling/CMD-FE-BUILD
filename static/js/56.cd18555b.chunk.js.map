{"version":3,"file":"static/js/56.cd18555b.chunk.js","mappings":"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","sources":["views/tasks/TasksAssignedToMe.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { NavLink, useLocation, useNavigate } from 'react-router-dom'\r\nimport { AiOutlineSortAscending, AiOutlineSortDescending } from 'react-icons/ai'\r\nimport { BiSortAlt2 } from 'react-icons/bi'\r\nimport { Button, Card, Container } from 'react-bootstrap'\r\nimport clsx from 'clsx'\r\n\r\nimport { getTaskListAssignedToMe } from '~/redux/tasksSlice'\r\nimport { tasksSelector } from '~/redux/selectors'\r\nimport AppPagination from '~/components/AppPagination'\r\nimport TaskRow from './TaskRow'\r\nimport AddTask from './TasksFeatures/AddTask'\r\nimport Loading from '~/components/Loading'\r\nimport FiltersAdvanced from './TasksFeatures/FiltersAdvanced'\r\n\r\nconst queryString = require('query-string')\r\n\r\nconst TasksAssignedToMe = () => {\r\n    const status = useSelector(tasksSelector).status\r\n    const tasks = useSelector(tasksSelector).tasks\r\n    const pagination = useSelector(tasksSelector).pagination\r\n\r\n    const dispatch = useDispatch()\r\n    const location = useLocation()\r\n    const navigation = useNavigate()\r\n\r\n    const [filtersBase, setFiltersBase] = useState({\r\n        page: 1\r\n    })\r\n    const [filtersAdvanced, setFiltersAdvanced] = useState({\r\n        title: \"\",\r\n        creatorIds: [],\r\n        receiverIds: [],\r\n        startDate: \"\",\r\n        finishDate: \"\",\r\n        statusIds: [],\r\n        departmentIds: [],\r\n        rate: \"\",\r\n        priority: \"\",\r\n    })\r\n\r\n\r\n    useEffect(() => {\r\n        document.title = \"Công việc của tôi\"\r\n\r\n        if (location.search.length > 0) {\r\n            const params = queryString.parse(location.search)\r\n            let newParams = {}\r\n\r\n            for (const [key, value] of Object.entries(params)) {\r\n                if (key !== \"page\") {\r\n                    continue\r\n                }\r\n                newParams[key] = value\r\n            }\r\n\r\n            setFiltersBase(newParams)\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const requestUrl = location.pathname + \"?\" + queryString.stringify(filtersBase)\r\n        navigation(requestUrl)\r\n        dispatch(getTaskListAssignedToMe({\r\n            params: filtersBase,\r\n            filters: filtersAdvanced\r\n        }))\r\n    }, [filtersBase, filtersAdvanced])\r\n\r\n    const handlePageChange = (newPage) => {\r\n        setFiltersBase({\r\n            ...filtersBase,\r\n            page: newPage\r\n        })\r\n    }\r\n\r\n    const handleSort = (sortBy) => {\r\n        if (filtersBase.order === null || !filtersBase.order) {\r\n            setFiltersBase({\r\n                ...filtersBase,\r\n                sort: sortBy,\r\n                order: \"asc\"\r\n            })\r\n        }\r\n        else if (filtersBase.order === \"asc\") {\r\n            setFiltersBase({\r\n                ...filtersBase,\r\n                sort: sortBy,\r\n                order: \"desc\"\r\n            })\r\n        }\r\n        else {\r\n            setFiltersBase({\r\n                ...filtersBase,\r\n                sort: null,\r\n                order: null\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container fluid>\r\n            <Container fluid>\r\n                <div className=\"row justify-content-xl-between justify-content-end align-items-center\">\r\n                    <div className=\"col-auto fw-bolder fs-5 mb-xl-0 mb-3\">\r\n                        CÔNG VIỆC CỦA TÔI\r\n                    </div>\r\n                    <div className=\"col\" />\r\n                    <div className=\"col-auto mb-xl-0 mb-3 d-sm-block d-none\">\r\n                        <AddTask />\r\n                    </div>\r\n                    <div className=\"col-auto mb-xl-0 mb-3 d-sm-block d-none\">\r\n                        <FiltersAdvanced filtersAdvanced={filtersAdvanced} setFiltersAdvanced={setFiltersAdvanced} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-start align-items-center\">\r\n                    <NavLink to=\"/tasks\" end>\r\n                        {\r\n                            ({ isActive }) => <Button className=\"col-auto m-1\" variant={clsx({ \"primary\": isActive, \"outline-primary\": !isActive })}>\r\n                                Tất cả\r\n                            </Button>\r\n                        }\r\n                    </NavLink>\r\n                    <NavLink to=\"/tasks/created-by-me\">\r\n                        {\r\n                            ({ isActive }) => <Button className=\"col-auto m-1\" variant={clsx({ \"primary\": isActive, \"outline-primary\": !isActive })}>\r\n                                Công việc tôi giao\r\n                            </Button>\r\n                        }\r\n                    </NavLink>\r\n                    <NavLink to=\"/tasks/assigned-to-me\">\r\n                        {\r\n                            ({ isActive }) => <Button className=\"col-auto m-1\" variant={clsx({ \"primary\": isActive, \"outline-primary\": !isActive })}>\r\n                                Công việc của tôi\r\n                            </Button>\r\n                        }\r\n                    </NavLink>\r\n                </div>\r\n                <hr />\r\n            </Container>\r\n            <Container fluid>\r\n                <div className=\"task task-header\">\r\n                    <div className=\"ms-lg-5\" />\r\n                    <div className=\"task-title\">\r\n                        <span\r\n                            className=\"fw-bolder cursor-pointer\"\r\n                            onClick={() => handleSort(\"title\")}\r\n                        >\r\n                            TÊN CÔNG VIỆC\r\n                            {\r\n                                (filtersBase.sort === \"title\" && filtersBase.order === \"asc\") ? <AiOutlineSortAscending />\r\n                                    : (filtersBase.sort === \"title\" && filtersBase.order === \"desc\") ? <AiOutlineSortDescending />\r\n                                        : <BiSortAlt2 />\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"task-creator\">\r\n                        <span\r\n                            className=\"fw-bolder cursor-pointer\"\r\n                            onClick={() => handleSort(\"creator.name\")}\r\n                        >\r\n                            NGƯỜI GIAO\r\n                            {\r\n                                (filtersBase.sort === \"creator.name\" && filtersBase.order === \"asc\") ? <AiOutlineSortAscending />\r\n                                    : (filtersBase.sort === \"creator.name\" && filtersBase.order === \"desc\") ? <AiOutlineSortDescending />\r\n                                        : <BiSortAlt2 />\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"task-arrow\" />\r\n                    <div className=\"task-receiver\">\r\n                        <span\r\n                            className=\"fw-bolder cursor-pointer\"\r\n                            onClick={() => handleSort(\"receiver.name\")}\r\n                        >\r\n                            NGƯỜI NHẬN\r\n                            {\r\n                                (filtersBase.sort === \"receiver.name\" && filtersBase.order === \"asc\") ? <AiOutlineSortAscending />\r\n                                    : (filtersBase.sort === \"receiver.name\" && filtersBase.order === \"desc\") ? <AiOutlineSortDescending />\r\n                                        : <BiSortAlt2 />\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"task-timeline\">\r\n                        <span\r\n                            className=\"fw-bolder cursor-pointer\"\r\n                            onClick={() => handleSort(\"startDate\")}\r\n                        >\r\n                            THỜI GIAN\r\n                            {\r\n                                (filtersBase.sort === \"startDate\" && filtersBase.order === \"asc\") ? <AiOutlineSortAscending />\r\n                                    : (filtersBase.sort === \"startDate\" && filtersBase.order === \"desc\") ? <AiOutlineSortDescending />\r\n                                        : <BiSortAlt2 />\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"task-status\">\r\n                        <span\r\n                            className=\"fw-bolder cursor-pointer\"\r\n                            onClick={() => handleSort(\"status.name\")}\r\n                        >\r\n                            TÌNH TRẠNG\r\n                            {\r\n                                (filtersBase.sort === \"status.name\" && filtersBase.order === \"asc\") ? <AiOutlineSortAscending />\r\n                                    : (filtersBase.sort === \"status.name\" && filtersBase.order === \"desc\") ? <AiOutlineSortDescending />\r\n                                        : <BiSortAlt2 />\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"task-rate\">\r\n                        <span\r\n                            className=\"fw-bolder cursor-pointer d-flex justify-content-center\"\r\n                            onClick={() => handleSort(\"priority\")}\r\n                        >\r\n                            ĐÁNH GIÁ\r\n                            {\r\n                                (filtersBase.sort === \"priority\" && filtersBase.order === \"asc\") ? <AiOutlineSortAscending />\r\n                                    : (filtersBase.sort === \"priority\" && filtersBase.order === \"desc\") ? <AiOutlineSortDescending />\r\n                                        : <BiSortAlt2 />\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    status === \"loading\" ? (\r\n                        <Loading />\r\n                    ) : status === \"error\" ? (\r\n                        <div className=\"text-center py-3\">Có lỗi trong quá trình lấy dữ liệu từ Server</div>\r\n                    ) : (\r\n                        <div className=\"list-group-horizontal-lg\">\r\n                            {\r\n                                tasks?.map((task, index) => (\r\n                                    <TaskRow\r\n                                        key={index}\r\n                                        task={task}\r\n                                    />\r\n                                ))\r\n                            }\r\n                            {\r\n                                tasks?.length === 0 ? (\r\n                                    <Card.Body align=\"center\">\r\n                                        Không có dữ liệu\r\n                                    </Card.Body>\r\n                                ) : null\r\n                            }\r\n                        </div>\r\n                    )\r\n                }\r\n                <AppPagination\r\n                    pagination={{\r\n                        ...pagination,\r\n                        page: filtersBase.page\r\n                    }}\r\n                    onPageChange={handlePageChange}\r\n                />\r\n            </Container>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default TasksAssignedToMe"],"names":["queryString","require","status","useSelector","tasksSelector","tasks","pagination","dispatch","useDispatch","location","useLocation","navigation","useNavigate","useState","page","filtersBase","setFiltersBase","title","creatorIds","receiverIds","startDate","finishDate","statusIds","departmentIds","rate","priority","filtersAdvanced","setFiltersAdvanced","useEffect","document","search","length","params","parse","newParams","Object","entries","key","value","requestUrl","pathname","stringify","getTaskListAssignedToMe","filters","handleSort","sortBy","order","sort","fluid","className","to","end","isActive","variant","clsx","onClick","map","task","index","align","onPageChange","newPage"],"sourceRoot":""}