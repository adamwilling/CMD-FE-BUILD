"use strict";(self.webpackChunkcmd_management=self.webpackChunkcmd_management||[]).push([[74],{155:function(e,n,s){s(2791);n.Z=s.p+"static/media/more.8e2afbbc9f87eec79c47359d32ca0ded.svg"},7328:function(e,n,s){s.d(n,{Z:function(){return u}});var t=s(885),i=s(2791),a=s(8116),r=s(2592);var l=s.p+"static/media/previous_page.1efdd0a65a10ef3fe9674455dfa522ca.svg";var c=s.p+"static/media/next_page.ce80b845b5a5e610c849929f004a994c.svg",d=s(184),o=function(e){var n=e.pagination,s=e.onPageChange,o=n.page,u=n.limit,h=n.totalItem;o=Number.parseInt(o);var m=Math.ceil(h/u),f=(0,i.useState)(window.innerWidth),v=(0,t.Z)(f,2),x=v[0],p=v[1],j=function(){p(window.innerWidth)};(0,i.useEffect)((function(){return window.addEventListener("resize",j),function(){window.removeEventListener("resize",j)}}),[x]);return(0,d.jsx)("div",{className:"d-table m-auto",children:(0,d.jsxs)(a.Z,{className:"col",size:x<576?"sm":x<992?"":"lg",children:[(0,d.jsx)(a.Z.Item,{disabled:o<=1,onClick:function(){return s(o-1)},children:(0,d.jsx)(r.Z,{src:l})}),function(){var e=[];if(x<576)if(m>=8)if(o<2){for(var n=1;n<=2;++n)e.push(n);e.push("..."),e.push(m)}else if(o>m-1){e.push(1),e.push("...");for(var s=m-1;s<=m;++s)e.push(s)}else e.push(o-1),e.push(o),e.push(o+1);else if(m>=5)if(o<=2){for(var t=1;t<=3;++t)e.push(t);e.push("..."),e.push(m)}else if(o>m-2){e.push(1),e.push("...");for(var i=m-2;i<=m;++i)e.push(i)}else{e.push(1),e.push("...");for(var a=o-1;a<=o+1;++a)e.push(a);e.push("..."),e.push(m)}else for(var r=1;r<=m;++r)e.push(r);else if(x<992)if(m>=8)if(o<3){for(var l=1;l<=3;++l)e.push(l);e.push("..."),e.push(m)}else if(o>m-2){e.push(1),e.push("...");for(var c=m-2;c<=m;++c)e.push(c)}else{e.push(1),e.push("...");for(var d=o-1;d<=o+1;++d)e.push(d);e.push("..."),e.push(m)}else if(m>=5)if(o<=2){for(var u=1;u<=3;++u)e.push(u);e.push("..."),e.push(m)}else if(o>m-2){e.push(1),e.push("...");for(var h=m-2;h<=m;++h)e.push(h)}else{e.push(1),e.push("...");for(var f=o-1;f<=o+1;++f)e.push(f);e.push("..."),e.push(m)}else for(var v=1;v<=m;++v)e.push(v);else if(m>=8)if(o<4){for(var p=1;p<=4;++p)e.push(p);e.push("..."),e.push(m)}else if(o>m-3){e.push(1),e.push("...");for(var j=m-3;j<=m;++j)e.push(j)}else{e.push(1),e.push("...");for(var Z=o-2;Z<=o+2;++Z)e.push(Z);e.push("..."),e.push(m)}else if(m>=5)if(o<=2){for(var g=1;g<=3;++g)e.push(g);e.push("..."),e.push(m)}else if(o>m-2){e.push(1),e.push("...");for(var b=m-2;b<=m;++b)e.push(b)}else{e.push(1),e.push("...");for(var N=o-1;N<=o+1;++N)e.push(N);e.push("..."),e.push(m)}else for(var y=1;y<=m;++y)e.push(y);return e}().map((function(e,n){return e===o?(0,d.jsx)(a.Z.Item,{active:!0,children:e},n):"..."===e?(0,d.jsx)(a.Z.Item,{disabled:!0,children:e},n):(0,d.jsx)(a.Z.Item,{onClick:function(){return s(e)},children:e},n)})),(0,d.jsx)(a.Z.Item,{disabled:o>=m,onClick:function(){return s(o+1)},children:(0,d.jsx)(r.Z,{src:c})})]})})},u=i.memo(o)},9388:function(e,n,s){s(2791);var t=s(184);n.Z=function(e){return(0,t.jsx)("div",{className:"py-3 text-center",children:(0,t.jsx)("div",{className:"spinner-border text-primary"})})}},9390:function(e,n,s){var t=s(1413),i=(s(2791),s(9902)),a=s(184);n.Z=function(e){var n=Object.assign({},e);return(0,a.jsx)(i.default,(0,t.Z)({emptyRecordMsg:"Kh\xf4ng c\xf3 l\u1ef1a ch\u1ecdn ph\xf9 h\u1ecdp",avoidHighlightFirstOption:!0,keepSearchTerm:!0,style:{chips:{background:"linear-gradient(to right, #0b7ce3 25%, #67f3c9 125%)",borderRadius:"0.5rem"},optionListContainer:{border:"1px solid #4fa7f7"},searchBox:{padding:"0.375rem 0.5rem",fontSize:"0.875rem",fontWeight:"400",lineHeight:"1.5",color:"#2f6bb1",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #4fa7f7",appearance:"none",borderRadius:"0.5rem",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out"}}},n))}},5396:function(e,n,s){var t=s(1413),i=s(885),a=s(5987),r=s(2791),l=s(1398),c=s(5904),d=s(184),o=["index","value","placeholder","displayValue","options","onSelect"];n.Z=function(e){var n=e.index,s=void 0===n?null:n,u=e.value,h=e.placeholder,m=e.displayValue,f=e.options,v=e.onSelect,x=(0,a.Z)(e,o),p=(0,r.useState)(!1),j=(0,i.Z)(p,2),Z=j[0],g=j[1],b=(0,r.useRef)();return(0,c.Z)(b,(function(){return g(!1)})),(0,d.jsxs)("div",(0,t.Z)((0,t.Z)({ref:b,onClick:function(){return g(!Z)},className:"form-select"},x),{},{children:[u[m]||h,(0,d.jsx)("div",{className:"select",children:Z&&f.map((function(e,n){return(0,d.jsx)(l.Z.Item,{action:!0,onClick:function(){return v(s,e)},active:u[m]===e[m],children:e[m]},n)}))})]}))}},5904:function(e,n,s){s.d(n,{Z:function(){return i}});var t=s(2791);function i(e,n){(0,t.useEffect)((function(){var s=function(s){e.current&&!e.current.contains(s.target)&&n(s)};return document.addEventListener("mousedown",s),document.addEventListener("touchstart",s),function(){document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}}),[e,n])}},6351:function(e,n,s){s.d(n,{RW:function(){return i},VC:function(){return t},ai:function(){return c},b5:function(){return r},gc:function(){return a},uO:function(){return l},xE:function(){return d}});var t=function(e){return e.employees},i=function(e){return e.departments},a=function(e){return e.teams},r=function(e){return e.roles},l=function(e){return e.tasks},c=function(e){return e.proposals},d=function(e){return e.posts}},3123:function(e,n,s){s.d(n,{Z:function(){return S}});var t=s(2791),i=s(2592),a=s(7798),r=s(2576),l=s(9723),c=s(155);var d=s.p+"static/media/rate-0.fabdd769b0af97b714c8fcde69f97453.svg";var o=s.p+"static/media/rate-1.fa39c3eab45aec9198e32db23c757354.svg",u=s(885),h=s(7692),m=s(3653),f=s(184),v=function(e){var n=e.task,s=(0,t.useState)(!1),i=(0,u.Z)(s,2),a=i[0],r=i[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z.Item,{as:"button",children:(0,f.jsxs)("div",{onClick:function(){return r(!a)},children:[(0,f.jsx)(h.Hlf,{})," Ch\u1ec9nh s\u1eeda"]})}),a&&(0,f.jsx)(m.Z,{visible:a,setVisible:r,task:n})]})},x=s(5316),p=s(3360),j=s(6030),Z=s(5292),g=function(e){var n=e.task,s=(0,t.useState)(!1),i=(0,u.Z)(s,2),a=i[0],r=i[1],c=(0,j.I0)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.Z.Item,{component:"button",onClick:function(){return r(!a)},children:[(0,f.jsx)(h.SW4,{})," X\xf3a"]}),a&&(0,f.jsxs)(x.Z,{scrollable:!0,show:a,onHide:function(){return r(!1)},children:[(0,f.jsx)(x.Z.Header,{closeButton:!0,children:(0,f.jsx)(x.Z.Title,{children:"X\xd3A C\xd4NG VI\u1ec6C"})}),(0,f.jsxs)(x.Z.Body,{children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a c\xf4ng vi\u1ec7c "," ",(0,f.jsx)("span",{className:"fw-bolder",children:n.title}),"?"]}),(0,f.jsxs)(x.Z.Footer,{children:[(0,f.jsx)(p.Z,{variant:"secondary",onClick:function(){return r(!1)},children:"H\u1ee7y"}),(0,f.jsx)(p.Z,{variant:"danger",onClick:function(){return e=n.id,c((0,Z._5)(e)),void r(!1);var e},children:"X\xf3a"})]})]})]})},b=s(9743),N=s(2677),y=s(8949),k=s(4232),C=JSON.parse(localStorage.getItem("userInfo")),w=function(e){var n,s,a,r,c,m,v,p=e.taskId,j=(0,t.useState)(!1),Z=(0,u.Z)(j,2),g=Z[0],w=Z[1],S=(0,t.useState)({}),I=(0,u.Z)(S,2),D=I[0],L=I[1];(0,t.useEffect)((function(){k.Z.getTaskDetailById(p).then((function(e){L(e.data.data)}))}),[]);var T=function(e){var n=new Date(e);return(n.getDate()<10?"0":"")+n.getDate()+"/"+(n.getMonth()+1<10?"0":"")+(n.getMonth()+1)+"/"+n.getFullYear()},B=[];if(D.rate>0)for(var V=1;V<=5;++V)V<=D.rate?B.push((0,f.jsx)(i.Z,{src:o,className:"mx-1"},V)):B.push((0,f.jsx)(i.Z,{src:d,className:"mx-1"},V));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.Z.Item,{onClick:function(){return w(!g)},children:[(0,f.jsx)(h.qj6,{})," Chi ti\u1ebft"]}),g&&(0,f.jsxs)(x.Z,{className:"modal-fullheight",size:"md",scrollable:!0,show:g,onHide:function(){return w(!1)},children:[(0,f.jsx)(x.Z.Header,{closeButton:!0,children:(0,f.jsx)(x.Z.Title,{children:"Chi ti\u1ebft c\xf4ng vi\u1ec7c"})}),(0,f.jsx)(x.Z.Body,{children:(0,f.jsxs)("div",{className:"d-flex flex-column justify-content-between",children:[(0,f.jsxs)(b.Z,{className:"m-2",children:[(0,f.jsx)(N.Z,{md:5,className:"fw-bolder",children:"M\xe3 c\xf4ng vi\u1ec7c:"}),(0,f.jsx)(N.Z,{md:7,children:D.code||"Tr\u1ed1ng"})]}),(0,f.jsxs)(b.Z,{className:"m-2",children:[(0,f.jsx)(N.Z,{md:5,className:"fw-bolder",children:"T\xean c\xf4ng vi\u1ec7c:"}),(0,f.jsx)(N.Z,{md:7,children:D.title})]}),(0,f.jsxs)(b.Z,{className:"m-2",children:[(0,f.jsx)(N.Z,{md:5,className:"fw-bolder",children:"Th\u1eddi h\u1ea1n:"}),(0,f.jsx)(N.Z,{md:7,children:T(D.startDate)+" - "+T(D.finishDate)})]}),(0,f.jsxs)(b.Z,{className:"m-2",children:[(0,f.jsx)(N.Z,{md:5,className:"fw-bolder",children:"M\u1ee9c \u0111\u1ed9 \u01b0u ti\xean:"}),(0,f.jsx)(N.Z,{md:7,children:1===D.priority?"Th\u1ea5p":2===D.priority?"Trung b\xecnh":3===D.priority?"Cao":"R\u1ea5t cao"})]}),(0,f.jsxs)(b.Z,{className:"m-2",children:[(0,f.jsx)(N.Z,{md:5,className:"fw-bolder",children:"Ng\u01b0\u1eddi giao:"}),(0,f.jsx)(N.Z,{md:7,children:(0,f.jsxs)("div",{className:"d-flex",children:[(0,f.jsx)(i.Z,{src:null===(n=D.creator)||void 0===n?void 0:n.avatar,width:40,height:40,className:"rounded-circle col-auto me-2"}),(0,f.jsxs)(b.Z,{className:"flex-column",children:[(0,f.jsx)(N.Z,{className:"fw-bolder text-primary",children:null===(s=D.creator)||void 0===s?void 0:s.name}),(0,f.jsx)(N.Z,{children:null===(a=D.creator)||void 0===a?void 0:a.code})]})]})})]}),(0,f.jsxs)(b.Z,{className:"m-2",children:[(0,f.jsx)(N.Z,{md:5,className:"fw-bolder",children:"Ng\u01b0\u1eddi nh\u1eadn:"}),(0,f.jsx)(N.Z,{md:7,children:(0,f.jsxs)("div",{className:"d-flex",children:[(0,f.jsx)(i.Z,{src:D.receiver.avatar,width:40,height:40,className:"rounded-circle col-auto me-2"}),(0,f.jsxs)(b.Z,{className:"flex-column",children:[(0,f.jsx)(N.Z,{className:"fw-bolder text-primary",children:D.receiver.name}),(0,f.jsx)(N.Z,{children:D.receiver.code})]})]})})]}),(0,f.jsxs)(b.Z,{className:"m-2",children:[(0,f.jsx)(N.Z,{md:5,className:"fw-bolder",children:"Ph\xf2ng ban:"}),(0,f.jsx)(N.Z,{md:7,children:null===(r=D.department[0])||void 0===r?void 0:r.name})]}),(0,f.jsxs)(b.Z,{className:"m-2",children:[(0,f.jsx)("span",{className:"fw-bolder",children:"M\xf4 t\u1ea3:"}),(0,f.jsx)("span",{children:D.description})]}),(0,f.jsxs)(b.Z,{className:"m-2",children:[(0,f.jsx)(N.Z,{md:5,className:"fw-bolder",children:"Tr\u1ea1ng th\xe1i:"}),(0,f.jsx)(N.Z,{md:7,children:1===(null===(c=D.status)||void 0===c?void 0:c.id)?(0,f.jsxs)(f.Fragment,{children:[null===(m=D.status)||void 0===m?void 0:m.name," (",T(D.modifyDate),")"]}):(0,f.jsx)("strong",{children:null===(v=D.status)||void 0===v?void 0:v.name})})]}),(0,f.jsxs)(b.Z,{className:"m-2",children:[(0,f.jsx)(N.Z,{md:5,className:"fw-bolder",children:"\u0110\xe1nh gi\xe1:"}),(0,f.jsx)(N.Z,{md:7,children:B})]}),(0,f.jsxs)(y.Z,{defaultActiveKey:["0"],children:[(0,f.jsxs)(y.Z.Item,{eventKey:"0",children:[(0,f.jsx)(y.Z.Header,{children:"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng"}),(0,f.jsx)(y.Z.Body,{})]}),(0,f.jsxs)(y.Z.Item,{eventKey:"1",children:[(0,f.jsx)(y.Z.Header,{children:"Th\u1ea3o lu\u1eadn"}),(0,f.jsx)(y.Z.Body,{children:(0,f.jsxs)("div",{className:"d-flex justify-content-evenly",children:[(0,f.jsx)("div",{className:"col-auto",children:(0,f.jsx)(i.Z,{className:"rounded-circle me-2",src:C.avatar,width:35,height:35})}),(0,f.jsx)("div",{className:"col",children:(0,f.jsx)("input",{className:"form-control",type:"text",placeholder:"Nh\u1eadp n\u1ed9i dung th\u1ea3o lu\u1eadn"})}),(0,f.jsx)("div",{className:"col-auto ms-2",children:(0,f.jsx)(h.PRb,{size:35})})]})})]})]})]})})]})]})},S=function(e){var n=e.task,s=function(e){var n=new Date(e);return(n.getDate()<10?"0":"")+n.getDate()+"/"+(n.getMonth()+1<10?"0":"")+(n.getMonth()+1)+"/"+n.getFullYear()},t=[];if(n.rate>0)for(var u=1;u<=5;++u)u<=n.rate?t.push((0,f.jsx)(i.Z,{src:o,className:"mx-1"},u)):t.push((0,f.jsx)(i.Z,{src:d,className:"mx-1"},u));return(0,f.jsxs)("div",{className:"item task list-group-item",style:{border:"none"},children:[(0,f.jsx)("div",{className:"item-label"}),(0,f.jsx)("div",{className:"ms-lg-5"}),(0,f.jsxs)("div",{className:"task-title",children:[(0,f.jsx)("div",{className:"d-lg-none fw-bold col text-break",children:"T\xean c\xf4ng vi\u1ec7c:"}),(0,f.jsx)("div",{className:"col text-break",children:n.title})]}),(0,f.jsxs)("div",{className:"task-creator",children:[(0,f.jsx)("div",{className:"d-lg-none fw-bold col text-break",children:"Ng\u01b0\u1eddi giao:"}),(0,f.jsx)("div",{className:"col text-break",children:(0,f.jsx)(a.Z,{placement:"top-start",overlay:(0,f.jsx)(r.Z,{children:n.creator.name}),children:(0,f.jsx)(i.Z,{src:n.creator.avatar,className:"rounded-circle float-end",width:"40",height:"40"})})})]}),(0,f.jsx)("div",{className:"task-arrow"}),(0,f.jsxs)("div",{className:"task-receiver",children:[(0,f.jsx)("div",{className:"d-lg-none fw-bold col text-break",children:"Ng\u01b0\u1eddi nh\u1eadn:"}),(0,f.jsx)("div",{className:"col text-break",children:(0,f.jsx)(a.Z,{placement:"top-start",overlay:(0,f.jsx)(r.Z,{children:n.receiver.name}),children:(0,f.jsx)(i.Z,{src:n.receiver.avatar,className:"rounded-circle float-start",width:"40",height:"40"})})})]}),(0,f.jsxs)("div",{className:"task-timeline",children:[(0,f.jsx)("div",{className:"d-lg-none fw-bold col text-break",children:"Th\u1eddi gian:"}),(0,f.jsx)("div",{className:"col text-break",children:s(n.startDate)+" - "+s(n.finishDate)})]}),(0,f.jsxs)("div",{className:"task-status",children:[(0,f.jsx)("div",{className:"d-lg-none fw-bold col text-break",children:"T\xecnh tr\u1ea1ng:"}),(0,f.jsx)("div",{className:"col text-break",children:1===n.status.id?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("strong",{children:n.status.name}),(0,f.jsx)("br",{}),s(n.modifyDate)]}):(0,f.jsx)("strong",{children:n.status.name})})]}),(0,f.jsxs)("div",{className:"task-rate",children:[(0,f.jsx)("div",{className:"d-lg-none fw-bold col text-break",children:"\u0110\xe1nh gi\xe1:"}),(0,f.jsx)("div",{className:"col d-flex justify-content-center",children:t})]}),(0,f.jsxs)(l.Z,{className:"task-more more",children:[(0,f.jsx)(l.Z.Toggle,{variant:"none",children:(0,f.jsx)(i.Z,{src:c.Z})}),(0,f.jsxs)(l.Z.Menu,{className:"animate__animated animate__zoomIn animate__faster",children:[(0,f.jsx)(w,{taskId:n.id}),(0,f.jsx)(v,{task:n}),(0,f.jsx)(g,{task:n})]})]})]})}},4157:function(e,n,s){var t=s(885),i=s(2791),a=s(3360),r=s(3653),l=s(184);n.Z=function(){var e=(0,i.useState)(!1),n=(0,t.Z)(e,2),s=n[0],c=n[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Z,{variant:"primary",onClick:function(){return c(!s)},children:(0,l.jsx)("span",{className:"fw-bold",children:"Th\xeam c\xf4ng vi\u1ec7c"})}),s&&(0,l.jsx)(r.Z,{visible:s,setVisible:c})]})}},5714:function(e,n,s){var t=s(4165),i=s(5861),a=s(1413),r=s(885),l=s(2791),c=s(3360),d=s(4775),o=s(9795),u=s(5705),h=s(6863),m=s(1756),f=s(9390),v=s(4232),x=s(182),p=s(5396),j=s(184);n.Z=function(e){var n=e.filtersAdvanced,s=e.setFiltersAdvanced,Z=e.type,g=(0,l.useState)(!1),b=(0,r.Z)(g,2),N=b[0],y=b[1],k=(0,l.useState)(!1),C=(0,r.Z)(k,2),w=C[0],S=C[1],I=(0,l.useState)([]),D=(0,r.Z)(I,2),L=D[0],T=D[1],B=(0,l.useState)([]),V=(0,r.Z)(B,2),R=V[0],O=V[1],E=(0,l.useState)([]),F=(0,r.Z)(E,2),H=F[0],_=F[1],M=(0,l.useState)([]),z=(0,r.Z)(M,2),q=z[0],X=z[1];(0,l.useEffect)((function(){m.Z.getEmployeeListByName("").then((function(e){T(e.data.data.employees),O(e.data.data.employees)})),v.Z.getStatusList().then((function(e){X(e.data.data)})),x.Z.getDepartmentList().then((function(e){_(e.data.data)}))}),[]);var A=function(e){S(!0),m.Z.getEmployeeListByName(e).then((function(e){T(e.data.data.employees)})),S(!1)},J=function(e){S(!0),m.Z.getEmployeeListByName(e).then((function(e){O(e.data.data.employees)})),S(!1)},W=function(e){S(!0),v.Z.getStatusList().then((function(n){var s=n.data.data.filter((function(n){return n.name.includes(e)}));X(s)})),S(!1)},K=function(e){S(!0),x.Z.getDepartmentList().then((function(n){var s=n.data.data.filter((function(n){return n.name.includes(e)}));_(s)})),S(!1)},P=(0,a.Z)((0,a.Z)({},n),{},{creators:n.creators?n.creators:[],receivers:n.receivers?n.receivers:[],statuses:n.statuses?n.statuses:[],departments:n.departments?n.departments:[],rateObject:n.rateObject?n.rateObject:{},priorityObject:n.priorityObject?n.priorityObject:{}}),Y=h.Ry({title:h.Z_(),creators:h.IX(),receivers:h.IX(),startDate:h.hT(),finishDate:h.hT(),statuses:h.IX(),departments:h.IX(),rateObject:h.Ry(),priorityObject:h.Ry()}),G=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(i,r){var l,c,d,o,u,h,m;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setSubmitting(!0),m=(0,a.Z)((0,a.Z)({},i),{},{creatorIds:(null===(l=i.creators)||void 0===l?void 0:l.map((function(e){return e.id})))||[],receiverIds:(null===(c=i.receivers)||void 0===c?void 0:c.map((function(e){return e.id})))||[],statusIds:(null===(d=i.statuses)||void 0===d?void 0:d.map((function(e){return e.id})))||[],departmentIds:(null===(o=i.departments)||void 0===o?void 0:o.map((function(e){return e.id})))||[],rate:(null===(u=i.rateObject)||void 0===u?void 0:u.value)||"",priority:(null===(h=i.priorityObject)||void 0===h?void 0:h.value)||""}),s((0,a.Z)((0,a.Z)({},n),m)),r.setSubmitting(!1);case 4:case"end":return e.stop()}}),e)})));return function(n,s){return e.apply(this,arguments)}}();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.Z,{variant:"outline-primary",onClick:function(){return y(!N)},children:(0,j.jsx)("div",{className:"fw-bolder",children:"L\u1ecdc n\xe2ng cao"})}),N&&(0,j.jsxs)(d.Z,{show:N,onHide:function(){return y(!1)},scroll:!0,backdrop:!0,placement:"end",responsive:"lg",children:[(0,j.jsx)(d.Z.Header,{className:"bg-gradient text-white",closeButton:!0,children:(0,j.jsx)(d.Z.Title,{children:(0,j.jsx)("div",{className:"fw-bolder",children:"L\u1ecdc n\xe2ng cao"})})}),(0,j.jsx)(d.Z.Body,{children:(0,j.jsx)(u.J9,{initialValues:P,validationSchema:Y,onSubmit:G,children:function(e){var t=e.values,i=e.handleChange,a=e.handleSubmit,r=e.handleReset,l=e.setFieldValue;return(0,j.jsxs)(o.Z,{onSubmit:a,children:[(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)(o.Z.Label,{children:"T\xean c\xf4ng vi\u1ec7c:"}),(0,j.jsx)(o.Z.Control,{type:"text",name:"title",placeholder:"Nh\u1eadp t\xean c\xf4ng vi\u1ec7c...",value:t.title,onChange:i})]}),"created-by-me"!==Z&&(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)(o.Z.Label,{children:"Ng\u01b0\u1eddi giao:"}),(0,j.jsx)(f.Z,{placeholder:"Ch\u1ecdn ng\u01b0\u1eddi giao...",displayValue:"name",showCheckbox:!0,options:L,loading:w,selectedValues:n.creators,onSelect:function(e){l("creators",e)},onRemove:function(e){l("creators",e)},onSearch:A})]}),"assigned-to-me"!==Z&&(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)(o.Z.Label,{children:"Ng\u01b0\u1eddi nh\u1eadn:"}),(0,j.jsx)(f.Z,{placeholder:"Ch\u1ecdn ng\u01b0\u1eddi nh\u1eadn...",displayValue:"name",showCheckbox:!0,options:R,loading:w,selectedValues:n.receivers,onSelect:function(e){l("receivers",e)},onRemove:function(e){l("receivers",e)},onSearch:J})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)(o.Z.Label,{children:"Tr\u1ea1ng th\xe1i:"}),(0,j.jsx)(f.Z,{placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i...",displayValue:"name",showCheckbox:!0,options:q,loading:w,selectedValues:n.statuses,onSelect:function(e){l("statuses",e)},onRemove:function(e){l("statuses",e)},onSearch:W})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)(o.Z.Label,{children:"Ph\xf2ng ban:"}),(0,j.jsx)(f.Z,{placeholder:"Ch\u1ecdn ph\xf2ng ban...",displayValue:"name",showCheckbox:!0,options:H,loading:w,selectedValues:n.departments,onSelect:function(e){l("departments",e)},onRemove:function(e){l("departments",e)},onSearch:K})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)(o.Z.Label,{children:"\u0110\xe1nh gi\xe1:"}),(0,j.jsx)(p.Z,{index:null,placeholder:"Ch\u1ecdn \u0111\xe1nh gi\xe1",displayValue:"label",value:t.rateObject,options:[{label:"1 sao",value:1},{label:"2 sao",value:2},{label:"3 sao",value:3},{label:"4 sao",value:4},{label:"5 sao",value:5}],onSelect:function(e,n){l("rateObject",n)}})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)(o.Z.Label,{children:"M\u1ee9c \u0111\u1ed9 \u01b0u ti\xean:"}),(0,j.jsx)(p.Z,{index:null,placeholder:"Ch\u1ecdn m\u1ee9c \u0111\u1ed9 \u01b0u ti\xean",displayValue:"label",value:t.priorityObject,options:[{label:"Th\u1ea5p",value:1},{label:"Trung b\xecnh",value:2},{label:"Cao",value:3},{label:"R\u1ea5t cao",value:4}],onSelect:function(e,n){l("priorityObject",n)}})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)(o.Z.Label,{children:"Ng\xe0y t\u1ea1o t\u1eeb:"}),(0,j.jsx)(o.Z.Control,{type:"date",name:"startDate",value:t.startDate,onChange:i})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)(o.Z.Label,{children:"Ng\xe0y ho\xe0n th\xe0nh t\u1eeb:"}),(0,j.jsx)(o.Z.Control,{type:"date",name:"finishDate",value:t.finishDate,onChange:i})]}),(0,j.jsxs)("div",{className:"d-flex justify-content-evenly",children:[(0,j.jsx)(c.Z,{variant:"outline-primary",className:"col-5 fw-bolder",onClick:function(e){r(e),s({title:"",creatorIds:[],receiverIds:[],startDate:"",finishDate:"",statusIds:[],departmentIds:[],rate:"",priority:"",rateObject:{},priorityObject:{}}),y(!1)},children:"\u0110\u1eb7t l\u1ea1i"}),(0,j.jsx)(c.Z,{className:"col-5 fw-bolder",type:"submit",children:"\xc1p d\u1ee5ng"})]})]})}})})]})]})}},4929:function(e,n,s){var t=s(885),i=s(2791),a=s(3360),r=s(4232),l=s(184);n.Z=function(e){var n=e.filters,s=e.onFiltersChange,c=(0,i.useState)([]),d=(0,t.Z)(c,2),o=d[0],u=d[1];(0,i.useEffect)((function(){r.Z.getStatusList().then((function(e){u(e.data.data)}))}),[]);return(0,l.jsx)(l.Fragment,{children:o.map((function(e){var t;return(0,l.jsx)(a.Z,{variant:"outline-primary",className:"col-auto m-1",value:e.id,active:null===(t=n.statusIds)||void 0===t?void 0:t.includes(e.id),onClick:function(){return function(e){var t=Number.parseInt(e.id),i=n.statusIds,a=n.statuses;i.includes(t)?a=a.filter((function(e){return e.id!==t})):a.push(e),s(a)}(e)},children:e.name},e.id)}))})}},3653:function(e,n,s){s.d(n,{Z:function(){return C}});var t=s(4165),i=s(1413),a=s(5861),r=s(2791),l=s(6030),c=s(3360),d=s(5316),o=s(9795),u=s(9743),h=s(5705),m=s(6863),f=s(8182),v=s(5292),x=s(885),p=s(1398),j=s(2592),Z=s(2677),g=s(1756),b=s(5904),N=s(184),y=function(e){var n=e.current,s=e.placeholder,t=e.onChange,i=e.onBlur,a=(0,r.useState)(!1),l=(0,x.Z)(a,2),c=l[0],d=l[1],h=(0,r.useState)(""),m=(0,x.Z)(h,2),f=m[0],v=m[1],y=(0,r.useState)([]),k=(0,x.Z)(y,2),C=k[0],w=k[1],S=(0,r.useRef)();return(0,r.useEffect)((function(){-1!==n.id&&v(n.name)}),[]),(0,r.useEffect)((function(){g.Z.getEmployeeListByName(f).then((function(e){w(e.data.data.employees)}))}),[f]),(0,b.Z)(S,(function(){return d(!1)})),(0,N.jsxs)("div",{className:"position-relative",ref:S,children:[(0,N.jsx)(o.Z.Control,{type:"search",name:"receiver",placeholder:s,onClick:function(){return d(!c)},value:f,onChange:function(e){return v(e.target.value)},onBlur:i}),(0,N.jsx)("div",{className:"select",children:c&&C.map((function(e){return(0,N.jsxs)(p.Z.Item,{className:"list-group-item-action d-flex cursor-pointer",onClick:function(){t(e),v(e.name),d(!1)},active:n.id===e.id,children:[(0,N.jsx)(j.Z,{src:e.avatar,width:40,height:40,className:"rounded-circle col-auto me-3"}),(0,N.jsxs)(u.Z,{className:"flex-column col",children:[(0,N.jsx)(Z.Z,{className:"fw-bolder",children:e.name}),(0,N.jsx)(Z.Z,{children:e.code})]})]},e.id)}))})]})},k=JSON.parse(localStorage.getItem("userInfo")),C=function(e){var n=e.visible,s=e.setVisible,r=e.task,x=void 0===r?null:r,p=(0,l.I0)(),j=function(e,n){for(var s=["#75FFD6","#3CEBC1","#0DD2DE","#4BA6FB"],t=["Th\u1ea5p","B\xecnh th\u01b0\u1eddng","\u01afu ti\xean","R\u1ea5t \u01b0u ti\xean"],i=[],a=function(a){i.push((0,N.jsxs)("div",{className:"col-sm-3 d-flex flex-column w-25",children:[(0,N.jsx)(c.Z,{variant:"outline-primary",style:{backgroundColor:a<=e?s[a-1]:null,borderColor:a<=e?s[a]:null},onClick:function(){return n(a)}}),(0,N.jsx)("span",{className:"text-center",children:t[a-1]})]},a))},r=1;r<=e;r++)a(r);if(e<s.length)for(var l=function(a){i.push((0,N.jsxs)("div",{className:"col-sm-3 d-flex flex-column w-25",children:[(0,N.jsx)(c.Z,{variant:"outline-primary",style:{backgroundColor:a<=e?s[a-1]:null},onClick:function(){return n(a)}}),(0,N.jsx)("span",{className:"text-center",children:t[a-1]})]},a))},d=e+1;d<=s.length;d++)l(d);return i.map((function(e){return e}))},Z={title:"",creatorId:k.id,receiver:{id:-1,name:"Ch\u1ecdn nh\xe2n vi\xean"},priority:1,description:"",startDate:"",finishDate:"",statusId:1};null!==x&&void 0!==x&&x.id&&(Z=x);var g=m.Ry({title:m.Z_().required("Vui l\xf2ng nh\u1eadp t\xean c\xf4ng vi\u1ec7c."),receiver:m.Ry({id:m.Rx().required("Vui l\xf2ng ch\u1ecdn ng\u01b0\u1eddi \u0111\u01b0\u1ee3c giao"),name:m.Z_().required()}),priority:m.Rx().required("Vui l\xf2ng ch\u1ecdn m\u1ee9c \u0111\u1ed9 \u01b0u ti\xean"),description:m.Z_().required("Vui l\xf2ng nh\u1eadp m\xf4 t\u1ea3 c\xf4ng vi\u1ec7c"),startDate:m.hT().required("Vui l\xf2ng nh\u1eadp ng\xe0y b\u1eaft \u0111\u1ea7u."),finishDate:m.hT().required("Vui l\xf2ng nh\u1eadp ng\xe0y k\u1ebft th\xfac.")}),b=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting(!0),null!==x&&void 0!==x&&x.id?p((0,v.xJ)((0,i.Z)((0,i.Z)({},n),{},{creatorId:k.id,receiverId:n.receiver.id,statusId:n.status.id}))):p((0,v.gI)((0,i.Z)((0,i.Z)({},n),{},{creatorId:k.id,receiverId:n.receiver.id}))),s(!1),a.setSubmitting(!1);case 4:case"end":return e.stop()}}),e)})));return function(n,s){return e.apply(this,arguments)}}();return(0,N.jsxs)(d.Z,{className:"modal-fullheight",size:"md",scrollable:!0,show:n,onHide:function(){return s(!1)},children:[(0,N.jsx)(d.Z.Header,{closeButton:!0,children:(0,N.jsx)(d.Z.Title,{children:null!==x&&void 0!==x&&x.id?"Ch\u1ec9nh s\u1eeda c\xf4ng vi\u1ec7c":"Th\xeam c\xf4ng vi\u1ec7c"})}),(0,N.jsx)(d.Z.Body,{children:(0,N.jsx)(h.J9,{initialValues:Z,validationSchema:g,onSubmit:b,children:function(e){var n,s,t,i=e.values,a=e.touched,r=e.errors,l=e.handleChange,d=e.handleBlur,h=e.handleSubmit,m=e.setFieldValue,v=e.isValid,p=e.dirty;return(0,N.jsxs)(o.Z,{onSubmit:h,children:[(0,N.jsxs)("div",{className:"mb-4",children:[(0,N.jsx)(o.Z.Label,{children:"T\xean c\xf4ng vi\u1ec7c:"}),(0,N.jsx)(o.Z.Control,{type:"text",name:"title",placeholder:"Nh\u1eadp t\xean c\xf4ng vi\u1ec7c",className:(0,f.Z)({"is-invalid":a.title&&r.title}),value:i.title,onChange:l,onBlur:d}),a.title&&r.title&&(0,N.jsx)("div",{className:"invalid-feedback",children:r.title})]}),(0,N.jsxs)("div",{className:"mb-4",children:[(0,N.jsx)(o.Z.Label,{children:"Ng\u01b0\u1eddi nh\u1eadn:"}),(0,N.jsx)(y,{placeholder:"Ch\u1ecdn ng\u01b0\u1eddi nh\u1eadn",current:i.receiver,onChange:function(e){m("receiver",e)}}),(null===(n=a.receiver)||void 0===n?void 0:n.id)&&(null===(s=r.receiver)||void 0===s?void 0:s.id)&&(0,N.jsx)("div",{className:"invalid-feedback",children:null===(t=r.receiver)||void 0===t?void 0:t.id})]}),(0,N.jsxs)("div",{className:"mb-4",children:[(0,N.jsx)(o.Z.Label,{children:"M\u1ee9c \u0111\u1ed9 \u01b0u ti\xean:"}),(0,N.jsx)(u.Z,{children:j(i.priority,(function(e){m("priority",e)}))})]}),(0,N.jsxs)("div",{className:"mb-4",children:[(0,N.jsx)(o.Z.Label,{children:"M\xf4 t\u1ea3:"}),(0,N.jsx)(o.Z.Control,{type:"text",name:"description",placeholder:"Nh\u1eadp m\xf4 t\u1ea3 c\xf4ng vi\u1ec7c",className:(0,f.Z)({"is-invalid":a.description&&r.description}),value:i.description,onChange:l,onBlur:d}),a.description&&r.description&&(0,N.jsx)("div",{className:"invalid-feedback",children:r.description})]}),(0,N.jsxs)(u.Z,{className:"mb-4 justify-content-betwween",children:[(0,N.jsxs)("div",{className:"col-12 mb-4 col-lg-6 mb-lg-0",children:[(0,N.jsx)(o.Z.Label,{children:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u:"}),(0,N.jsx)(o.Z.Control,{type:"date",name:"startDate",placeholder:"Nh\u1eadp m\xf4 t\u1ea3 c\xf4ng vi\u1ec7c",className:(0,f.Z)({"is-invalid":a.startDate&&r.startDate}),value:i.startDate,onChange:l,onBlur:d}),a.startDate&&r.startDate&&(0,N.jsx)("div",{className:"invalid-feedback",children:r.startDate})]}),(0,N.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,N.jsx)(o.Z.Label,{children:"H\u1ea1n ch\xf3t:"}),(0,N.jsx)(o.Z.Control,{type:"date",name:"finishDate",placeholder:"Nh\u1eadp m\xf4 t\u1ea3 c\xf4ng vi\u1ec7c",className:(0,f.Z)({"is-invalid":a.finishDate&&r.finishDate}),value:i.finishDate,onChange:l,onBlur:d}),a.finishDate&&r.finishDate&&(0,N.jsx)("div",{className:"invalid-feedback",children:r.finishDate})]})]}),(0,N.jsx)(c.Z,{size:"lg",type:"submit",className:"d-table m-auto",disabled:!(p&&v),children:null!==x&&void 0!==x&&x.id?"C\u1eadp nh\u1eadt th\xf4ng tin":"X\xe1c nh\u1eadn t\u1ea1o m\u1edbi"})]})}})})]})}}}]);
//# sourceMappingURL=74.c9aa8edc.chunk.js.map